language: minimal

os: linux

services:
  - docker
archlinux:
  packages:
    - python-pip
  mount:
    - ~/.pkg-cache:/var/cache/pacman/pkg
  script:
    - pacman --version
    - pip install ansible
    - .local/bin/ansible --version
    - .local/bin/ansible-playbook --syntax-check ./main.yml -i ./inventory
    - .local/bin/ansible-playbook ./main.yml -i ./inventory

script:
  - "curl -s https://raw.githubusercontent.com/mikkeloscar/arch-travis/master/arch-travis.sh | bash"

